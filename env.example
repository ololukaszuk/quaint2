# ============================================================================
# BTC ML Production - Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# IMPORTANT: Never commit .env with real passwords to version control
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DB_HOST=timescaledb
DB_PORT=5432
DB_NAME=btc_ml_production
DB_USER=mltrader
DB_PASSWORD=your_secure_password_here_change_this

# ============================================================================
# BINANCE API CONFIGURATION
# ============================================================================
# WebSocket endpoint for real-time price streaming
BINANCE_STREAM_URL=wss://stream.binance.com:9443/ws

# REST API endpoint for historical data backfill
BINANCE_API_URL=https://api.binance.com

# ============================================================================
# RUST DATA FEEDER SERVICE
# ============================================================================
FEEDER_PORT=8080
FEATURE_UPDATE_INTERVAL=60
GAP_DETECTION_THRESHOLD=70

# ============================================================================
# GO GAP HANDLER SERVICE
# ============================================================================
GAP_HANDLER_PORT=9000
MAX_CONCURRENT_BACKFILLS=5
BACKFILL_TIMEOUT_SECONDS=300

# ============================================================================
# PGADMIN CONFIGURATION
# ============================================================================
PGADMIN_PASSWORD=your_pgadmin_password_here_change_this
PGADMIN_PORT=8000

# ============================================================================
# ML LAYER 1 - TRAINING CONFIGURATION
# ============================================================================
# Data period for training (months of historical data)
TRAINING_MONTHS=13

# Validation and test splits (days)
VALIDATION_DAYS=30
TEST_DAYS=7

# Training hyperparameters
ML_BATCH_SIZE=32
MAMBA_EPOCHS=50
MAMBA_LEARNING_RATE=0.001

# LightGBM parameters (optional overrides)
# LGBM_NUM_LEAVES=31
# LGBM_LEARNING_RATE=0.05
# LGBM_N_ESTIMATORS=100

# ============================================================================
# ML LAYER 1 - INFERENCE CONFIGURATION
# ============================================================================
# Enable/disable ML inference
ML_ENABLED=true

# Standalone inference service port
ML_INFERENCE_PORT=8081

# Ensemble weights (0.0 to 1.0, mamba_weight + lgbm_weight = 1.0)
ML_MAMBA_WEIGHT=0.5

# Inference device: cpu or cuda
ML_DEVICE=cpu

# ============================================================================
# LOGGING & ENVIRONMENT
# ============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Environment: development, staging, production
ENVIRONMENT=production

# ============================================================================
# NOTES
# ============================================================================
# 1. All passwords should be at least 20 characters
# 2. Use strong, unique passwords for production
# 3. Never share .env file - add to .gitignore
# 4. Rotate passwords regularly
# 5. Use secrets management (vault, AWS Secrets Manager, etc.) in production
#
# ML LAYER USAGE:
# - Training: docker-compose --profile ml-training run ml-trainer
# - Inference: docker-compose --profile ml-inference up -d ml-inference
# - Both profiles are optional and not started by default
